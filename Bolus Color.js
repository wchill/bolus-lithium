(c,d,b,h,g){function r(a){a.beginPath();a.arc(f,c/2,f,.5*Math.PI,1.5*Math.PI);a.lineTo(e-f/2,c/2-f);a.arc(e-f,c/2,f,1.5*Math.PI,.5*Math.PI);a.lineTo(f/2,c/2+f);a.clip()}var m=document.createElement("canvas"),a=m.getContext("2d"),n=document.createElement("canvas"),l=n.getContext("2d");h=document.createElement("canvas");var p=h.getContext("2d"),e=1.25*c,f=Math.round(c/6)/2,q=Math.round(c/8),t=e+(b?Math.round(.3*c)+2*q:q),k="rgb("+g.join()+")";g="rgba("+g.join()+",0.3)";h.width=
t;h.height=c;m.width=e;m.height=c;n.width=e;n.height=c;r(a);a.fillStyle=g;a.fill();l.fillStyle=b||80<=d?"#4CD964":10>=d?"#FF3B30":20>=d?"#FF8E2B":40>=d?"#FFD800":k;r(l);l.fill();g=l.getImageData(0,0,e,c);p.putImageData(g,0,0);a=a.getImageData(d/100*e,0,e,c);p.putImageData(a,d/100*e,0);b&&(d=document.createElement("canvas"),b=d.getContext("2d"),a=.75*c,d.width=Math.round(.4*a),d.height=Math.round(.7*a),b.strokeStyle=k,b.fillStyle=k,b.beginPath(),b.moveTo(Math.round(.3*a),0),b.lineTo(Math.round(.2*
a),Math.round(.3*a)),b.lineTo(Math.round(.4*a),Math.round(.3*a)),b.lineTo(Math.round(.1*a),Math.round(.7*a)),b.lineTo(Math.round(.2*a),Math.round(.4*a)),b.lineTo(0,Math.round(.4*a)),b.closePath(),b.stroke(),b.clip(),b.fill(),k=b.getImageData(0,0,d.width,d.height),p.putImageData(k,e+q,c/2-d.height/2));return h.toDataURL("image/png")}
