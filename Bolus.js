(c,e,b,m,h){function r(a){a.beginPath();a.arc(f,c/2,f,.5*Math.PI,1.5*Math.PI);a.lineTo(d-f/2,c/2-f);a.arc(d-f,c/2,f,1.5*Math.PI,.5*Math.PI);a.lineTo(f/2,c/2+f);a.clip()}var n=document.createElement("canvas"),a=n.getContext("2d"),p=document.createElement("canvas"),k=p.getContext("2d"),l=document.createElement("canvas"),q=l.getContext("2d"),d=1.25*c,f=Math.round(c/6)/2,t=d+(b?Math.round(.3*c)+10:5),g="rgb("+h.join()+")";h="rgba("+h.join()+",0.3)";l.width=t;l.height=c;n.width=d;
n.height=c;p.width=d;p.height=c;r(a);a.fillStyle=h;a.fill();k.fillStyle=b?"#4CD964":m?"#FF3B30":g;r(k);k.fill();m=k.getImageData(0,0,d,c);q.putImageData(m,0,0);a=a.getImageData(e/100*d,0,d,c);q.putImageData(a,e/100*d,0);b&&(e=document.createElement("canvas"),b=e.getContext("2d"),a=.75*c,e.width=Math.round(.4*a),e.height=Math.round(.7*a),b.strokeStyle=g,b.fillStyle=g,b.beginPath(),b.moveTo(Math.round(.3*a),0),b.lineTo(Math.round(.2*a),Math.round(.3*a)),b.lineTo(Math.round(.4*a),Math.round(.3*a)),b.lineTo(Math.round(.1*
a),Math.round(.7*a)),b.lineTo(Math.round(.2*a),Math.round(.4*a)),b.lineTo(0,Math.round(.4*a)),b.closePath(),b.stroke(),b.clip(),b.fill(),g=b.getImageData(0,0,e.width,e.height),q.putImageData(g,d+5,c/2-e.height/2));return l.toDataURL("image/png")}
